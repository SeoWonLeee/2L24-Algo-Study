# ì—¬í–‰ ê³„íš

|   ì •ë³´    |     ë‚´ìš©     |
|:-----------:|:----------:|
|   ë‚œì´ë„   |   ğŸŸ¢ğŸŸ¢ğŸŸ¢   |
|  í’€ì´ ì‹œê°„  |    60ë¶„     |
|  ì‹œê°„ ì œí•œ  |     1ì´ˆ     |
| ë©”ëª¨ë¦¬ ì œí•œ  |   256MB    |
| ê¸°ì¶œ | NWERC 2010 |
| ë§í¬ | https://acmicpc.net/problem/3665 |

<br>
<br>

### â–«ï¸ ë¬¸ì œ ì •ë³´
![image](https://github.com/hayannn/2L24-Algo-Study/assets/102213509/0ea15dc2-d892-44e0-84da-830a4c575460)

<br>
<br>

### â–«ï¸ ì…ì¶œë ¥ ì˜ˆì‹œ
```java
//ì…ë ¥
3
5
5 4 3 2 1
2
2 4
3 4
3
2 3 1
0
4
1 2 3 4
3
1 2
3 4
2 3
```
```java
//ì¶œë ¥
5 3 2 4 1
2 3 1
IMPOSSIBLE
```

<br>
<br>

### â–«ï¸ ì•Œê³ ë¦¬ì¦˜
- ```í’€ì´ ì‹œê°„ : 35ë¶„```

1. í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ T ì…ë ¥ë°›ê¸°
2. N ì…ë ¥ë°›ê¸°
3. M ì…ë ¥ë°›ê¸°
4. ìœ„ìƒ ì •ë ¬ êµ¬í˜„í•˜ê¸°
   - ë³€ê²½ëœ ìˆœìœ„ ì •ë³´ ì¶”ê°€
   - ìœ„ìƒ ì •ë ¬ : ì§„ì…ì°¨ìˆ˜ê°€ 0ì¸ ë…¸ë“œë¥¼ íì— ì‚½ì…í•´ ì‹œì‘
   - ì‚¬ì´í´ì´ ë°œìƒí•˜ëŠ” ê²½ìš° : IMPOSSIBLE ì¶œë ¥
   - ê·¸ ì™¸ : ìœ„ìƒ ì •ë ¬ ìˆ˜í–‰í•œ ê²°ê³¼ ì¶œë ¥

```java
//ì²« í’€ì´ ì†ŒìŠ¤ì½”ë“œ
package HayanLee.ê·¸ë˜í”„ì´ë¡ .ê¸°ì¶œë¬¸ì œ.Q45_ìµœì¢…ìˆœìœ„;

import java.util.*;

public class FinalRanking {

  static int T;
  static int N;
  static int[] Indegree;
  static boolean[][] TD;
  static int[] Rank;
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);

    T = scanner.nextInt();
    for (int t = 0; t < T; t++) {
      N = scanner.nextInt();

      Indegree = new int[N + 1];
      TD = new boolean[N + 1][N + 1];

      Rank = new int[N];
      for (int i = 0; i < N; i++) {
        Rank[i] = scanner.nextInt();
      }

      for (int i = 0; i < N; i++) {
        for (int j = i + 1; j < N; j++) {
          int teamOne = Rank[i];
          int teamTwo = Rank[j];
          TD[teamOne][teamTwo] = true;
          Indegree[teamTwo]++;
        }
      }


      int M = scanner.nextInt();
      for (int i = 0; i < M; i++) {
        int a = scanner.nextInt();
        int b = scanner.nextInt();
        if (TD[a][b]) {
          TD[a][b] = false;
          TD[b][a] = true;
          Indegree[a]++;
          Indegree[b]--;
        } else {
          TD[a][b] = true;
          TD[b][a] = false;
          Indegree[a]--;
          Indegree[b]++;
        }
      }

      String result = "";

      Queue<Integer> queue = new LinkedList<>();
      for (int i = 1; i <= N; i++) {
        if (Indegree[i] == 0) {
          queue.offer(i);
        }
      }
      boolean isUnique = true;
      while (!queue.isEmpty()) {
        if (queue.size() > 1) {
          isUnique = false;
          break;
        }
        int now = queue.poll();
        result += now + " ";
        for (int i = 1; i <= N; i++) {
          if (TD[now][i]) {
            Indegree[i]--;
            if (Indegree[i] == 0) {
              queue.offer(i);
            }
          }
        }
      }
      if (!isUnique) { //ì‚¬ì´í´ ì¡´ì¬
        System.out.println("IMPOSSIBLE");
      } else {
        System.out.println(result);
      }
    }
  }
}
```

<br>
<br>

### ğŸš€ Trouble-Shooting

1. Impossibleì´ í‘œì‹œë˜ì§€ ì•ŠëŠ” ë¬¸ì œ
   - ì‚¬ì´í´ ê²€ì‚¬ ë¶€ë¶„ì´ ì˜ëª»ë˜ì—ˆìŒ. â¡ï¸ íì— ë“¤ì–´ê°„ ë…¸ë“œ ìˆ˜ë¥¼ ì¶”ê°€í•´ í•´ê²°
   
```java
//before
boolean isUnique = true;
  while (!queue.isEmpty()) {
  ...
        
  if (!isUnique) { //ì‚¬ì´í´ ì¡´ì¬
  ... 


//after
...
int count = 0; //íì— ë“¤ì–´ê°„ ë…¸ë“œ ìˆ˜ë¥¼ ì¹´ìš´íŠ¸í•˜ê¸°
  while (!queue.isEmpty()) {
    if (queue.size() > 1) {
      isUnique = false;
      break;
    }
    int now = queue.poll();
    count++; // ì¹´ìš´íŠ¸ ì¦ê°€ì‹œí‚¤ê¸°
    result += now + " ";
...
        
if (!isUnique || count < N) { //ì‚¬ì´í´ ì¡´ì¬ or ëª¨ë“  ë…¸ë“œ ë°©ë¬¸ ì•ˆí•œ ê²½ìš°
...


```

<br>
<br>


### â–«ï¸ ìµœì¢… í’€ì´
- FinalRanking2.java ì°¸ê³ 

![image](https://github.com/hayannn/2L24-Algo-Study/assets/102213509/f1a692ed-d471-4f56-99d3-91170fed148d)
![image](https://github.com/hayannn/2L24-Algo-Study/assets/102213509/0f80349a-7e26-4204-93fe-381ee4e056d5)

