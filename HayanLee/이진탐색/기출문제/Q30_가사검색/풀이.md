# ê°€ì‚¬ ê²€ìƒ‰

|   ì •ë³´    |                                   ë‚´ìš©                                    |
|:-------:|:-----------------------------------------------------------------------:|
|   ë‚œì´ë„   |                                 ğŸŸ¢ğŸŸ¢ğŸŸ¢                                  |
|  í’€ì´ ì‹œê°„  |                                 1ì‹œê°„ 30ë¶„                                 | 
|  ì‹œê°„ ì œí•œ  |                                   1ì´ˆ                                    |
| ë©”ëª¨ë¦¬ ì œí•œ  |                                  128MB                                  |
| ê¸°ì¶œ |                            2020 ì¹´ì¹´ì˜¤ ì‹ ì… ê³µì±„ 1ì°¨                            |
| ë§í¬ | [programmers](https://programmers.co.kr/learn/courses/30/lessons/60060) |

<br>
<br>

### â–«ï¸ ë¬¸ì œ ìš”ì•½
- ê°€ì‚¬ì— ì‚¬ìš©ëœ ëª¨ë“  ë‹¨ì–´ë“¤ì´ ë‹´ê¸´ ë°°ì—´ wordsì™€ ì°¾ê³ ì í•˜ëŠ” í‚¤ì›Œë“œê°€ ë‹´ê¸´ ë°°ì—´ queriesê°€ ì£¼ì–´ì§ˆ ë•Œ, ê° í‚¤ì›Œë“œ ë³„ë¡œ ë§¤ì¹˜ëœ ë‹¨ì–´ê°€ ëª‡ ê°œì¸ì§€ ìˆœì„œëŒ€ë¡œ ë°°ì—´ì— ë‹´ì•„ ë°˜í™˜í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ê¸°

<br>
<br>

### â–«ï¸ ê°€ì‚¬ ë‹¨ì–´ ì œí•œ ì‚¬í•­
- wordsì˜ ê¸¸ì´(ê°€ì‚¬ ë‹¨ì–´ì˜ ê°œìˆ˜)ëŠ” 2 ì´ìƒ 100,000 ì´í•˜ì…ë‹ˆë‹¤.
- ê° ê°€ì‚¬ ë‹¨ì–´ì˜ ê¸¸ì´ëŠ” 1 ì´ìƒ 10,000 ì´í•˜ë¡œ ë¹ˆ ë¬¸ìì—´ì¸ ê²½ìš°ëŠ” ì—†ìŠµë‹ˆë‹¤.
- ì „ì²´ ê°€ì‚¬ ë‹¨ì–´ ê¸¸ì´ì˜ í•©ì€ 2 ì´ìƒ 1,000,000 ì´í•˜ì…ë‹ˆë‹¤.
- ê°€ì‚¬ì— ë™ì¼ ë‹¨ì–´ê°€ ì—¬ëŸ¬ ë²ˆ ë‚˜ì˜¬ ê²½ìš° ì¤‘ë³µì„ ì œê±°í•˜ê³  wordsì—ëŠ” í•˜ë‚˜ë¡œë§Œ ì œê³µë©ë‹ˆë‹¤.
- ê° ê°€ì‚¬ ë‹¨ì–´ëŠ” ì˜¤ì§ ì•ŒíŒŒë²³ ì†Œë¬¸ìë¡œë§Œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, íŠ¹ìˆ˜ë¬¸ìë‚˜ ìˆ«ìëŠ” í¬í•¨í•˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.
  <br>
  <br>

### â–«ï¸ ê²€ìƒ‰ í‚¤ì›Œë“œ ì œí•œ ì‚¬í•­
- queriesì˜ ê¸¸ì´(ê²€ìƒ‰ í‚¤ì›Œë“œ ê°œìˆ˜)ëŠ” 2 ì´ìƒ 100,000 ì´í•˜ì…ë‹ˆë‹¤.
- ê° ê²€ìƒ‰ í‚¤ì›Œë“œì˜ ê¸¸ì´ëŠ” 1 ì´ìƒ 10,000 ì´í•˜ë¡œ ë¹ˆ ë¬¸ìì—´ì¸ ê²½ìš°ëŠ” ì—†ìŠµë‹ˆë‹¤.
- ì „ì²´ ê²€ìƒ‰ í‚¤ì›Œë“œ ê¸¸ì´ì˜ í•©ì€ 2 ì´ìƒ 1,000,000 ì´í•˜ì…ë‹ˆë‹¤.
- ê²€ìƒ‰ í‚¤ì›Œë“œëŠ” ì¤‘ë³µë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
- ê° ê²€ìƒ‰ í‚¤ì›Œë“œëŠ” ì˜¤ì§ ì•ŒíŒŒë²³ ì†Œë¬¸ìì™€ ì™€ì¼ë“œì¹´ë“œ ë¬¸ìì¸ '?' ë¡œë§Œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, íŠ¹ìˆ˜ë¬¸ìë‚˜ ìˆ«ìëŠ” í¬í•¨í•˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.
- ê²€ìƒ‰ í‚¤ì›Œë“œëŠ” ì™€ì¼ë“œì¹´ë“œ ë¬¸ìì¸ '?'ê°€ í•˜ë‚˜ ì´ìƒ í¬í•¨ë¼ ìˆìœ¼ë©°, '?'ëŠ” ê° ê²€ìƒ‰ í‚¤ì›Œë“œì˜ ì ‘ë‘ì‚¬ ì•„ë‹ˆë©´ ì ‘ë¯¸ì‚¬ ì¤‘ í•˜ë‚˜ë¡œë§Œ ì£¼ì–´ì§‘ë‹ˆë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´ "??odo", "fro??", "?????"ëŠ” ê°€ëŠ¥í•œ í‚¤ì›Œë“œì…ë‹ˆë‹¤.
- ë°˜ë©´ì— "frodo"('?'ê°€ ì—†ìŒ), "fr?do"('?'ê°€ ì¤‘ê°„ì— ìˆìŒ), "?ro??"('?'ê°€ ì–‘ìª½ì— ìˆìŒ)ëŠ” ë¶ˆê°€ëŠ¥í•œ í‚¤ì›Œë“œì…ë‹ˆë‹¤.
  <br>
  <br>

### â–«ï¸ ì…ì¶œë ¥ ì˜ˆì‹œ
![image](https://github.com/hayannn/2L24-Algo-Study/assets/102213509/91b71106-5332-4a13-847d-f6488b665883)

<br>
<br>


### â–«ï¸ ì•Œê³ ë¦¬ì¦˜
- ```í’€ì´ ì‹œê°„ : 1ì‹œê°„ 25ë¶„```
1. words ë°°ì—´ê³¼ queries ë°°ì—´ì„ ë¹„êµ
    - ë§¤ì¹˜ë˜ëŠ” ê°œìˆ˜ë¥¼ ì¶œë ¥í•˜ê¸°(answer)
2. ì´ì§„ íƒìƒ‰ êµ¬í˜„í•˜ê¸°(ë³„ë„ ë©”ì„œë“œ)
    - words ë°°ì—´ : 2ê°œ ì´ìƒ
    - queries ë°°ì—´ : 2ê°œ ì´ìƒ
    - ì¤‘ë³µ ì œê±°(ì¤‘ë³µ ì‹œ 1ê°œë¡œ í†µí•©)
    - ì™€ì¼ë“œ ì¹´ë“œ ë¬¸ì ?ë§Œ í¬í•¨ ê°€ëŠ¥í•˜ë„ë¡

```java
//ì²« í’€ì´ ì†ŒìŠ¤ì½”ë“œ
//ì˜¤í›„ 7ì‹œ 9ë¶„ ~ 

/*
[ì•Œê³ ë¦¬ì¦˜]
1. words ë°°ì—´ê³¼ queries ë°°ì—´ì„ ë¹„êµ
   - ì´ì§„ íƒìƒ‰ì„ ìœ„í•´ ì •ë ¬í•˜ê¸°
   - ë§¤ì¹˜ë˜ëŠ” ê°œìˆ˜ë¥¼ ì¶œë ¥í•˜ê¸°(answer)
2. ì´ì§„ íƒìƒ‰ êµ¬í˜„í•˜ê¸°(ë³„ë„ ë©”ì„œë“œ)
   - words ë°°ì—´ : 2ê°œ ì´ìƒ
   - queries ë°°ì—´ : 2ê°œ ì´ìƒ
   - ì¤‘ë³µ ì œê±°(ì¤‘ë³µ ì‹œ 1ê°œë¡œ í†µí•©)
   - ì™€ì¼ë“œ ì¹´ë“œ ë¬¸ì ?ë§Œ í¬í•¨ ê°€ëŠ¥í•˜ë„ë¡
*/
import java.util.*;

class Solution {
    public int[] solution(String[] words, String[] queries) {

        //wordsì™€ queriesì˜ ê¸¸ì´ ë³€ìˆ˜ ì„ ì–¸
        int wL = words.length;
        int qL = queries.length;

        int[] answer = new int[queries.length];


        //ì´ì§„íƒìƒ‰ì„ ìœ„í•œ ì •ë ¬
        Arrays.sort(words);


        for(int i=0; i<qL; i++){
            int result = binarySearch(words, qL, start, end);
        }

        //ì™€ì¼ë“œì¹´ë“œ ì„¤ì •
        for(int i=0; i<qL; i++){
            if (queries[i].charAt(0) == '?') {
                answer[i] = binarySearch(words, qL, start, end);;
            } else {
                return -1;
            }
        }

        return answer;
    }


    public int binarySearch(int[] words, int target, int start, int end){
        while(start <= end){
            int middle = (start - end ) / 2;

            if(words[middle] == target){
                return middle;
            }
            if(words[middle] > target){
                end = middle - 1;
            } else {
                start = middle + 1;
            }
        }
        return -1;
    }

}
```

<br>
<br>

### ğŸš€ Trouble-Shooting

1. ì´ì§„ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ ìˆ˜ì •

```java
//before
    public int binarySearch(int[] words, int target, int start, int end){
        while(start <= end){
            int middle = (start - end ) / 2;
    
            if(words[middle] == target){
                return middle;
            }
            if(words[middle] > target){
                end = middle - 1;
            } else {
                start = middle + 1;
            }
        }
        return -1;
    }

// after
    public int lowerBound(ArrayList<String> array, String target, int start, int end) {
        while (start < end) {
            int mid = (start + end) / 2;
            // arr[mid]ê°€ targetë³´ë‹¤ ì‚¬ì „ìˆœìœ¼ë¡œ ê°™ê±°ë‚˜ ë’¤ì— ìˆë‹¤ë©´
            if (array.get(mid).compareTo(target) >= 0) end = mid;
            else start = mid + 1;
        }
        return end;
    }

    public int upperBound(ArrayList<String> array, String target, int start, int end) {
        while (start < end) {
            int mid = (start + end) / 2;
            // arr[mid]ê°€ targetë³´ë‹¤ ì‚¬ì „ìˆœìœ¼ë¡œ ë’¤ì— ìˆë‹¤ë©´
            if (array.get(mid).compareTo(target) > 0) end = mid;
            else start = mid + 1;
        }
        return end;
    }

// ê°’ì´ [left_value, right_value]ì¸ ë°ì´í„°ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
    public int countByRange(ArrayList<String> array, String leftValue, String rightValue) {
        // ìœ ì˜: lowerBoundì™€ upperBoundëŠ” end ë³€ìˆ˜ì˜ ê°’ì„ ë°°ì—´ì˜ ê¸¸ì´ë¡œ ì„¤ì •
        int rightIndex = upperBound(array, rightValue, 0, array.size());
        int leftIndex = lowerBound(array, leftValue, 0, array.size());
        return rightIndex - leftIndex;
    }    
```
<br>
<br>

2. ì „ì²´ ì•Œê³ ë¦¬ì¦˜ ìˆ˜ì •
```java
//before
    for(int i=0; i<qL; i++){
        int result = binarySearch(words, qL, start, end);
    }
    
    //ì™€ì¼ë“œì¹´ë“œ ì„¤ì •
    for(int i=0; i<qL; i++){
        if (queries[i].charAt(0) == '?') {
            answer[i] = binarySearch(words, qL, start, end);;
        } else {
            return -1;
        }
    }

    return answer;

    
    
    
//after
    for (int i = 0; i < 10001; i++) { // "ê° ë‹¨ì–´ì˜ ê¸¸ì´ëŠ” 1ì´ìƒ 10,000ì´í•˜ë¡œ ë¹ˆ ë¬¸ìì—´ì¸ ê²½ìš°ëŠ” ì—†ìŠµë‹ˆë‹¤." -> ì¦‰ 0ë¶€í„° 100001ê¹Œì§€!
        array.add(new ArrayList<>());
        reverseArray.add(new ArrayList<>());
    }

    // ëª¨ë“  ë‹¨ì–´ë¥¼ ì ‘ë¯¸ì‚¬ ì™€ì¼ë“œì¹´ë“œ ë°°ì—´, ì ‘ë‘ì‚¬ ì™€ì¼ë“œì¹´ë“œ ë°°ì—´ì— ê°ê° ì‚½ì…
    for (int i = 0; i < words.length; i++) {
        String word = words[i];
        array.get(word.length()).add(word); // ë‹¨ì–´ë¥¼ ì‚½ì…
        word = (new StringBuffer(word)).reverse().toString();
        reverseArray.get(word.length()).add(word); // ë‹¨ì–´ë¥¼ ë’¤ì§‘ì–´ì„œ ì‚½ì…
    }

    // ì´ì§„ íƒìƒ‰ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ê° ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ ì •ë ¬ ìˆ˜í–‰
    for (int i = 0; i < 10001; i++) {
        Collections.sort(array.get(i));
        Collections.sort(reverseArray.get(i));
    }

    // í‚¤ì›Œë“œ ë°°ì—´ queries ê³„ì‚° ê³¼ì •
    for (int i = 0; i < queries.length; i++) {
        String query = queries[i];
        int res = 0;
        if (query.charAt(0) != '?') { // fro??
            res = countByRange(array.get(query.length()), query.replaceAll("\\?", "a"), query.replaceAll("\\?", "z"));
        }
        else { // ????o
            query = (new StringBuffer(query)).reverse().toString();
        res = countByRange(reverseArray.get(query.length()), query.replaceAll("\\?", "a"), query.replaceAll("\\?", "z"));
        }
        // ë‹¨ì–´ ê°œìˆ˜ ì €ì¥í•˜ê¸°
        Arrayanswer.add(res);
    }

    // ë‹¤ì‹œ ë°°ì—´ë¡œ ë°”ê¾¸ê¸°
    int[] answer = new int[Arrayanswer.size()];
    for (int i = 0; i < Arrayanswer.size(); i++) {
        answer[i] = Arrayanswer.get(i);
    }
    return answer;
```
<br>
<br>

### â–«ï¸ ìˆ˜ì •ëœ ì•Œê³ ë¦¬ì¦˜ ì„¤ëª…
- ë¬¸ìì—´ì˜ ê¸¸ì´ì— ë”°ë¼ ArrayListì— ì €ì¥í•˜ê³ , ê·¸ ì•ˆì—ì„œ ì´ì§„ íƒìƒ‰ì„ ìˆ˜í–‰í•˜ì—¬ ì¿¼ë¦¬ì— ëŒ€í•œ ë§¤ì¹­ì„ ì°¾ì•„ë‚´ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„


ğŸ·ï¸ solution
- ë‹¨ì–´ë“¤ì„ ê¸¸ì´ì— ë”°ë¼ ë‚˜ëˆ„ì–´ ì €ì¥í•˜ê¸° ìœ„í•œ ArrayList arrayì™€ reverseArrayë¥¼ ìƒì„±
- ArrayListëŠ” ê° ì¸ë±ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ê¸¸ì´ì˜ ë‹¨ì–´ë“¤ì„ ì €ì¥
- ë‹¨ì–´ë“¤ì„ ë°›ì•„ì„œ í•´ë‹¹ ê¸¸ì´ì˜ ArrayListì— ì €ì¥
- ì €ì¥ëœ ë‹¨ì–´ë“¤ì„ ì‚¬ì „ ìˆœìœ¼ë¡œ ì •ë ¬
- ê° ì¿¼ë¦¬ì— ëŒ€í•´ ì²˜ë¦¬
    - ì¿¼ë¦¬ì˜ ì²« ê¸€ìê°€ '?'ì¸ ê²½ìš°ëŠ” ì ‘ë‘ì‚¬ì— ì™€ì¼ë“œì¹´ë“œê°€ ë¶™ì€ ê²½ìš°ì„ -> ë‹¨ì–´ë¥¼ ë’¤ì§‘ì–´ì„œ ì²˜ë¦¬
    - '?' â¡ï¸ 'a'ë¡œ, ê·¸ë¦¬ê³  '?' â¡ï¸ 'z'ë¡œ ì¹˜í™˜ : í•´ë‹¹ ì¿¼ë¦¬ ë²”ìœ„ì— ì†í•˜ëŠ” ë‹¨ì–´ì˜ ê°œìˆ˜ë¥¼ ì´ì§„ íƒìƒ‰ìœ¼ë¡œ ì°¾ê¸°
    - ì°¾ì•„ë‚¸ ê°œìˆ˜ë¥¼ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€

> ì£¼ì–´ì§„ ê°’?
> - lowerBoundì™€ upperBoundì—ì„œ "ì£¼ì–´ì§„ ê°’" : ì°¾ê³ ì í•˜ëŠ” íŠ¹ì • ê°’
> - countByRangeì—ì„œ "ì£¼ì–´ì§„ ê°’" : í•´ë‹¹ ë²”ìœ„ì˜ ì‹œì‘ ê°’ê³¼ ì¢…ë£Œ ê°’
> - lowerBound: ì£¼ì–´ì§„ ê°’ ì´ìƒì´ ì²˜ìŒ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜ë¥¼ ì°¾ìŒ. ì¦‰, ë°°ì—´ì—ì„œ í•´ë‹¹ ê°’ê³¼ ê°™ê±°ë‚˜ í° ê°’ì´ ì²˜ìŒìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜ë¥¼ ì°¾ëŠ” ê²ƒ!
> - upperBound: ì£¼ì–´ì§„ ê°’ë³´ë‹¤ í° ê°’ì´ ì²˜ìŒ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜ë¥¼ ì°¾ìŒ. ì¦‰, ë°°ì—´ì—ì„œ í•´ë‹¹ ê°’ë³´ë‹¤ í° ê°’ì´ ì²˜ìŒìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜ë¥¼ ì°¾ëŠ” ê²ƒ!

ğŸ·ï¸ ì´ì§„íƒìƒ‰ <br>
- ```lowerBound```
    - ì´ì§„ íƒìƒ‰ì„ ì‚¬ìš©í•˜ì—¬ ì£¼ì–´ì§„ ë¬¸ìì—´ targetì´ ìˆëŠ” ê°€ì¥ ì‘ì€ ì¸ë±ìŠ¤ë¥¼ ì°¾ëŠ” ë©”ì„œë“œ
    - ë‹¨ì–´ì˜ ì‚¬ì „ ìˆœì„œë¥¼ ë¹„êµí•˜ì—¬ lower boundë¥¼ ì°¾ê¸°
    - ê·¸ ì£¼ì–´ì§„ ê°’ ì´ìƒì´ ì²˜ìŒ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜ë¥¼ ì°¾ê¸°

- ```upperBound```
    - ì´ì§„ íƒìƒ‰ì„ ì‚¬ìš©í•˜ì—¬ ì£¼ì–´ì§„ ë¬¸ìì—´ targetì´ ìˆëŠ” ê°€ì¥ í° ì¸ë±ìŠ¤ë¥¼ ì°¾ëŠ” ë©”ì„œë“œ
    - ë‹¨ì–´ì˜ ì‚¬ì „ ìˆœì„œë¥¼ ë¹„êµí•˜ì—¬ upper boundë¥¼ ì°¾ê¸°

- ```countByRange```
    - ì£¼ì–´ì§„ ë°°ì—´ì—ì„œ leftValueì™€ rightValue ì‚¬ì´ì˜ ë‹¨ì–´ ê°œìˆ˜ë¥¼ ì°¾ëŠ” ë©”ì„œë“œ
    - lower boundì™€ upper boundë¥¼ ì´ìš©í•˜ì—¬ êµ¬ê°„ ë‚´ì˜ ë‹¨ì–´ ê°œìˆ˜ë¥¼ ê³„ì‚°

<br>
<br>

### â–«ï¸ ìµœì¢… í’€ì´
- lyricsSearch.java ì°¸ê³ 

![image](https://github.com/hayannn/2L24-Algo-Study/assets/102213509/fe4a7baf-e8f2-4802-8dc1-31bcc0bb04ca)
![image](https://github.com/hayannn/2L24-Algo-Study/assets/102213509/ea89e115-b3a1-4458-9db7-87af44a7c353)
![image](https://github.com/hayannn/2L24-Algo-Study/assets/102213509/16813e93-3dd4-4a79-851e-9995ae3e249b)
![image](https://github.com/hayannn/2L24-Algo-Study/assets/102213509/bb97076f-b3df-4a32-919d-ef04de36ecb5)
