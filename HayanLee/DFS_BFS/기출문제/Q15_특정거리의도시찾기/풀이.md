# Q15. íŠ¹ì • ê±°ë¦¬ì˜ ë„ì‹œ ì°¾ê¸°

### ğŸ’¡ Info

|   ì •ë³´    |                  ë‚´ìš©                   |
|:-------:|:-------------------------------------:|
|   ë‚œì´ë„   |                 ğŸŸ¢ğŸŸ¡âšª                 |
|  í’€ì´ ì‹œê°„  |                  30ë¶„                  | 
|  ì‹œê°„ ì œí•œ  |                  2ì´ˆ                   |
| ë©”ëª¨ë¦¬ ì œí•œ  |                 256MB                 |
|   ê¸°ì¶œ    |                 í•µì‹¬ìœ í˜•                  |
|    ë§í¬   | https://www.acmicpc.net/problem/18352 |

<br>
<br>

### ğŸ’­ ë¬¸ì œ ì´í•´
- íŠ¹ì •í•œ ë„ì‹œ Xë¡œë¶€í„° ì¶œë°œí•˜ì—¬ ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ë„ì‹œ ì¤‘ì—ì„œ, ìµœë‹¨ ê±°ë¦¬ê°€ ì •í™•íˆ Kì¸ ëª¨ë“  ë„ì‹œì˜ ë²ˆí˜¸ë¥¼ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨

<br>

> #### ì…ë ¥ ì¡°ê±´
>  - ì²«ì¨° ì¤„ì— ë„ì‹œì˜ ê°œìˆ˜ N, ë„ë¡œì˜ ê°œìˆ˜ M, ê±°ë¦¬ ì •ë³´ K, ì¶œë°œ ë„ì‹œì˜ ë²ˆí˜¸ Xê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.<br>
>    (2<=N<=300,000, 1<=M<=1,000,000, 1<=K<=300,000, 1<=X <= N)
>  - ë‘˜ì§¸ ì¤„ë¶€í„° Mê°œì˜ ì¤„ì— ê±¸ì³ì„œ ë‘ ê°œì˜ ìì—°ìˆ˜ A, Bê°€ ì£¼ì–´ì§€ë©°, ê° ìì—°ìˆ˜ëŠ” ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤. <br>
>    ì´ëŠ” Aë²ˆ ë„ì‹œì—ì„œ Bë²ˆ ë„ì‹œë¡œ ì´ë™í•˜ëŠ” ë‹¨ë°©í–¥ ë„ë¡œê°€ ì¡´ì¬í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.(1<=A,B<=N) <br>
>    ë‹¨, Aì™€ BëŠ” ì„œë¡œ ë‹¤ë¥¸ ìì—°ìˆ˜ì…ë‹ˆë‹¤.
>    - ì…ë ¥ ì˜ˆì‹œ 1
>        ```
>        4 4 2 1
>        1 2
>        1 3
>        2 3 
>        2 4
>        ```
>    - ì…ë ¥ ì˜ˆì‹œ 2
>        ```
>        4 3 2 1
>        1 2
>        1 3
>        1 4
>        ```
>    - ì…ë ¥ ì˜ˆì‹œ 3
>       ```
>       4 4 1 1
>       1 2 
>       1 3
>       2 3
>       2 4
>       ```

> #### ì¶œë ¥ ì¡°ê±´
>  - Xë¡œë¶€í„° ì¶œë°œí•˜ì—¬ ë„ë‹¤í•  ìˆ˜ ìˆëŠ” ë„ì‹œ ì¤‘ì—ì„œ, ìµœë‹¨ ê±°ë¦¬ê°€ Kì¸ ëª¨ë“  ë„ì‹œì˜ ë²ˆí˜¸ë¥¼ í•œ ì¤„ì— í•˜ë‚˜ì”© ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤.
>  - ì´ë•Œ ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ë„ì‹œ ì¤‘ì—ì„œ, ìµœë‹¨ ê±°ë¦¬ê°€ Kì¸ ë„ì‹œê°€ í•˜ë‚˜ë„ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ -1ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
>    - ì¶œë ¥ ì˜ˆì‹œ 1
>        ```
>        4
>        ```
>    - ì¶œë ¥ ì˜ˆì‹œ 2
>        ```
>        -1
>        ```
>    - ì¶œë ¥ ì˜ˆì‹œ 3
>       ```
>       2
>       3
>       ```
<br>
<br>

### ğŸ’­ ìƒê°í•œ ì•Œê³ ë¦¬ì¦˜
```ì‹¤ì œ í’€ì´ ì‹œê°„ : 24ë¶„```

- N, M, K, X ì…ë ¥ë°›ê¸°
- ë²„í¼ ë¹„ìš°ê¸°
- ë°°ì—´ ì…ë ¥ë°›ê¸°(String)
- BFS êµ¬í˜„

  ```java
  package HayanLee.DFS_BFS.ê¸°ì¶œë¬¸ì œ.Q15_íŠ¹ì •ê±°ë¦¬ì˜ë„ì‹œì°¾ê¸°;

  //ì˜¤í›„ 1ì‹œ 50ë¶„ ~ 2ì‹œ 14ë¶„
  /*
  ì•Œê³ ë¦¬ì¦˜
  - N, M, K, X ì…ë ¥ë°›ê¸°
    - ë²„í¼ ë¹„ìš°ê¸°
    - ë°°ì—´ ì…ë ¥ë°›ê¸°(String)
    - BFS êµ¬í˜„
      */
      import java.util.*;
      public class íŠ¹ì •ê±°ë¦¬ì˜ë„ì‹œì°¾ê¸° {
      static int N;
      static int M;
      static int K;
      static int X;
      static int [][]arr;
  
      static ArrayList<Integer> map = new ArrayList<>();
  
      public static void main(String[] args){
      Scanner sc = new Scanner(System.in);
  
            N = sc.nextInt();
            M = sc.nextInt();
            K = sc.nextInt();
            X = sc.nextInt();
  
            sc.nextLine();
  
            arr = new int[N][M];
            for(int i=0; i<N; i++){
                String map = sc.nextLine();
                for(int j=0; j<M; j++){
                    arr[i][j] = map.charAt(j) - '0';
                }
            }
            System.out.println(bfs(0,0));
      }
  
      public static int bfs(int x, int y){
      Queue<int[]> queue = new LinkedList<>();
      queue.offer(new int[]{x,y});
  
            while(!queue.isEmpty()){
                int[] current = queue.poll();
                x = current[0];
                y = current[1];
                for(int i=0; i<4; i++){
                    if(x < 0 || y < 0 || x >= N || y >= M){
                        return -1;
                    }
  
                    if(arr[x][y] == 1){
                        arr[x][y] = arr[x][y] + 1;
                        queue.offer(new int[]{x,y});
                    }
                }
            }
            return arr[N-1][M-1];
      }
      }

    ```

<br>
<br>

### âŒ ì˜¤ë‹µì²´í¬
- ì…ë ¥ 1ì— ëŒ€í•´ì„œëŠ” ì •ìƒ ì‘ë™
- í•˜ì§€ë§Œ, 2ë²ˆê³¼ 3ë²ˆì— ```StringIndexOutOfBoundsException : String index out of range : 3``` ë°œìƒ
  - í•´ê²°
    - bfsë¥¼ (x,y) í˜•íƒœë¡œ ì •ì˜í•˜ì§€ ì•Šê³ , xë¡œ ì •ì˜í•˜ê¸°
  
    ```java
      package HayanLee.DFS_BFS.ê¸°ì¶œë¬¸ì œ.Q15_íŠ¹ì •ê±°ë¦¬ì˜ë„ì‹œì°¾ê¸°;
  
      //ì˜¤í›„ 1ì‹œ 50ë¶„ ~ 2ì‹œ 14ë¶„
      /*
      ì•Œê³ ë¦¬ì¦˜
      - N, M, K, X ì…ë ¥ë°›ê¸°
        - ë²„í¼ ë¹„ìš°ê¸°
        - ë°°ì—´ ì…ë ¥ë°›ê¸°(String)
        - BFS êµ¬í˜„
          */
          import java.util.*;
          public class íŠ¹ì •ê±°ë¦¬ì˜ë„ì‹œì°¾ê¸° {
          static int N;
          static int M;
          static int K;
          static int X;
          static int [][]arr;
          static boolean[] visited;
    
          static ArrayList<Integer> map = new ArrayList<>();
    
          static ArrayList<Integer> result = new ArrayList<>();
    
          public static void main(String[] args) {
          Scanner sc = new Scanner(System.in);
    
                N = sc.nextInt();
                M = sc.nextInt();
                K = sc.nextInt();
                X = sc.nextInt();
    
                sc.nextLine();
    
                arr = new int[N + 1][M + 1];
                visited = new boolean[N + 1];
    
                /*for(int i=0; i<N; i++){
                    String map = sc.nextLine();
                    Arrays.fill(arr[i], -1);
                    for(int j=0; j<M; j++){
                        //arr[i][j] = map.charAt(j) - '0';
                        int a = sc.nextInt();
                        int b = sc.nextInt();
                        arr[a-1][b-1] = 1;
                    }
                }*/
    
    
                //ë„ë¡œ ì •ë³´ ì…ë ¥
                for (int i = 0; i < M; i++) {
                    int a = sc.nextInt();
                    int b = sc.nextInt();
                    arr[a][b] = 1;
                }
                bfs(X);
    
                if (result.isEmpty()) {
                    System.out.println(-1);
                } else {
                    Collections.sort(result);
                    for(int i=0; i<result.size(); i++) {
                        System.out.println(result.get(i));
                    }
                }
          }
    
          public static void bfs(int x) {
          Queue<Integer> queue = new LinkedList<>();
          queue.offer(x);
          visited[x] = true;
    
                int depth = 0;
                while (!queue.isEmpty() && depth <= K) {
                    int size = queue.size();
                    for (int i = 0; i < size; i++) {
                        int current = queue.poll();
                        if (depth == K) {
                            result.add(current);
                        }
                        for (int j = 1; j <= N; j++) {
                            if (arr[current][j] == 1 && !visited[j]) {
                                queue.offer(j);
                                visited[j] = true;
                            }
                        }
                    }
                    depth++;
                }
          }
    }
    ```
  
  
<br>
<br>

### ğŸ’­ ìµœì¢… í’€ì´
- N, M, K, X ì…ë ¥ë°›ê¸°
- ë²„í¼ ë¹„ìš°ê¸°
- ë°°ì—´ ì…ë ¥ë°›ê¸°(String)
- BFS êµ¬í˜„
  - bfs(int x)ë¡œ ë„ì‹œ ì‹œì‘ì  ì„¤ì •
  - í ìƒì„± ë° ë°©ë¬¸ ì¡°ì‚¬
  - depth : í˜„ì¬ê¹Œì§€ ë°©ë¬¸í•œ ë„ì‹œì˜ ê±°ë¦¬
  - depthê°€ K ì´ë‚´ì¸ ë™ì•ˆ ë°˜ë³µ