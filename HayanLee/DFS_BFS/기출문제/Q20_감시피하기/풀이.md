# Q20. ê°ì‹œ í”¼í•˜ê¸°

### ğŸ’¡ Info

|   ì •ë³´    |                  ë‚´ìš©                   |
|:-------:|:-------------------------------------:|
|   ë‚œì´ë„   |                ğŸŸ¢ğŸŸ¢ğŸŸ¡                 |
|  í’€ì´ ì‹œê°„  |                  60ë¶„                  | 
|  ì‹œê°„ ì œí•œ  |                  2ì´ˆ                   |
| ë©”ëª¨ë¦¬ ì œí•œ  |                 256MB                 |
|   ê¸°ì¶œ    |                 í•µì‹¬ ìœ í˜•                 |
|    ë§í¬   | https://www.acmicpc.net/problem/18428 |

<br>
<br>

### ğŸ’­ ë¬¸ì œ ì´í•´
- N X N í¬ê¸°ì˜ ë³µë„ì—ì„œ í•™ìƒê³¼ ì„ ìƒë‹˜ì˜ ìœ„ì¹˜ ì •ë³´ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì¥ì• ë¬¼ì„ ì •í™•íˆ 3ê°œ ì„¤ì¹˜í•˜ì—¬ ëª¨ë“  í•™ìƒì´ ì„ ìƒë‹˜ì˜ ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆëŠ”ì§€ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨
  <br>

> #### ì…ì¶œë ¥ ì¡°ê±´
<img width="1162" alt="image" src="https://github.com/hayannn/2L24-Algo-Study/assets/102213509/01b5f4b8-b28e-4eb5-b500-6545c684abbb">

<br>
<br>

> #### ì…ì¶œë ¥ ì˜ˆì‹œ
<img width="1176" alt="image" src="https://github.com/hayannn/2L24-Algo-Study/assets/102213509/558d0015-e5ae-4802-86c7-e2d2b757c441">

<br>
<br>

### ğŸ’­ ìƒê°í•œ ì•Œê³ ë¦¬ì¦˜
```ì‹¤ì œ í’€ì´ ì‹œê°„ : 52ë¶„```

- main
0. ì „ì—­ë³€ìˆ˜ ì„ ì–¸í•˜ê¸°(N, arr, dx, dy, result)
1. N ì…ë ¥ë°›ê¸°
2. ë°°ì—´ ì…ë ¥ë°›ê¸°(String)
3. bfs ì‹¤í–‰í•˜ê¸°
4. ë§Œì•½ ì›í•˜ëŠ” ê²°ê³¼ë©´ -> YES, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ NO ì¶œë ¥

```java
package HayanLee.DFS_BFS.ê¸°ì¶œë¬¸ì œ.Q20_ê°ì‹œí”¼í•˜ê¸°;

//ì˜¤í›„ 4ì‹œ 33ë¶„ ~ 5ì‹œ 25ë¶„
import java.util.*;
public class ê°ì‹œí”¼í•˜ê¸°1 {

    static int N;
    static int[][] arr;

    static int[] dx = {-1, 1, 0 ,0};
    static int[] dy = {0, 0, -1, 1};
    static boolean result;

    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);

        //ì…ë ¥ë°›ê¸°
        N = sc.nextInt();

        sc.nextLine();

        arr = new int[N][N];
        for(int i=0; i<N; i++){
            String map = sc.nextLine();
            for(int j=0; j<N; j++){
                arr[i][j] = map.charAt(0) - '0';
            }
        }

        //bfs ê³„ì‚°
        result = bfs();


        //ê²°ê³¼ ì¶œë ¥
        if(result){
            System.out.println("YES");
        } else {
            System.out.println("NO");
        }
    }

    //BFS ê³„ì‚°í•˜ëŠ” ë©”ì„œë“œ
    public static boolean bfs(){
        Queue<int[]> queue = new LinkedList<>();

        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (arr[i][j] == 2) {
                    queue.offer(new int[]{i, j});
                }
            }
        }

        while(!queue.isEmpty()){
            int[] now = queue.poll();
            int x = now[0];
            int y = now[1];

            for(int i=0; i<4; i++){
                int nx = x + dx[i];
                int ny = y + dy[i];

                //ê³µê°„ ë°–ìœ¼ë¡œ ë‚˜ê°ˆ ê²½ìš°
                if(nx < 0 || ny < 0 || nx >=N || ny >=N){
                    continue;
                }

                //ì¥ì• ë¬¼ ì„¤ì¹˜
                arr[nx][ny] = 2;
                queue.offer(new int[]{nx,ny});
                }
            }

        //ë¹ˆê³µê°„ í™•ì¸í•˜ê¸°
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (arr[i][j] == 0) {
                    return false;
                }
            }
        }
        return true;
    }
}

  ```

<br>
<br>

### âŒ ì˜¤ë‹µì²´í¬
- ì–´ë–¤ ì…ë ¥ì´ ì£¼ì–´ì ¸ë„ YESë§Œ ì¶œë ¥ë¨.
1. ì…ë ¥ ë¬¸ìì—´ ë³€í™˜ ìˆ˜ì •: map.charAt(0) - '0' â¡ï¸ map.charAt(j)

```java
arr = new char[N][N];
    for(int i=0; i<N; i++){
        String map = sc.nextLine();
        for(int j=0; j<N; j++){
            arr[i][j] = map.charAt(j);
        }
    }
```

<br>

2. ì„ ìƒë‹˜ ìœ„ì¹˜ ì •ë³´ 2 -> Të¡œ ë³€ê²½

```java
for (int i = 0; i < N; i++) {
    for (int j = 0; j < N; j++) {
        if (arr[i][j] == 'T') {
            queue.offer(new int[]{i, j});
        }
    }
}
```
```java
//ì„ ìƒë‹˜ ìœ„ì¹˜
    arr[nx][ny] = 'T';
    queue.offer(new int[]{nx,ny});
}
```

<br>

3. í•™ìƒ ìœ„ì¹˜ë¥¼ 0 -> Së¡œ ë³€ê²½
```java
//í•™ìƒ ìœ„ì¹˜ í™•ì¸
for (int i = 0; i < N; i++) {
    for (int j = 0; j < N; j++) {
        if (arr[i][j] == 'S') {
            return false;
        }
    }
}
```

<br>

4. ì…ë ¥ í˜•íƒœ ë³€ê²½
```java
static char[][] arr;
```

<br>

5. ë©”ì¸ì˜ bfs -> dfs ë³€ê²½
```java
//dfs ê³„ì‚°
result = bfs(0);
```

<br>

6. DFS ì—°ì‚°ìœ¼ë¡œ ë³€ê²½
```java
// DFS ê³„ì‚°í•˜ëŠ” ë©”ì„œë“œ
    public static boolean dfs(int count) {
        if (count == 3) { // ì¥ì• ë¬¼ì„ 3ê°œ ì„¤ì¹˜í–ˆìœ¼ë©´ ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸
            return check();
        }

        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (arr[i][j] == 'X') { // ë¹ˆ ê³µê°„ì—ë§Œ ì¥ì• ë¬¼ì„ ì„¤ì¹˜í•  ìˆ˜ ìˆìŒ
                    arr[i][j] = 'O'; // ì¥ì• ë¬¼ ì„¤ì¹˜
                    if (dfs(count + 1)) return true; // ì¬ê·€ í˜¸ì¶œ
                    arr[i][j] = 'X'; // ì¥ì• ë¬¼ ì œê±° (ë°±íŠ¸ë˜í‚¹)
                }
            }
        }

        return false;
    }
```

<br>

7. ê°ì‹œë¥¼ í”¼í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ë©”ì„œë“œ ì¶”ê°€
```java
// ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œ
    public static boolean check() {
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (arr[i][j] == 'T') { // ê° ì„ ìƒë‹˜ ìœ„ì¹˜ì—ì„œ
                    for (int k = 0; k < 4; k++) { // 4ë°©í–¥ì„ í™•ì¸í•˜ì—¬
                        int nx = i + dx[k];
                        int ny = j + dy[k];
                        while (nx >= 0 && nx < N && ny >= 0 && ny < N) { // ë²”ìœ„ ë‚´ì—ì„œ ë°˜ë³µ
                            if (arr[nx][ny] == 'S') return true; // í•™ìƒì´ ë°œê²¬ë˜ë©´ ê°ì‹œ í”¼í•  ìˆ˜ ì—†ìŒ
                            if (arr[nx][ny] == 'O') return false; // ì¥ì• ë¬¼ì´ ìˆìœ¼ë©´ ë” ì´ìƒ ë³¼ ìˆ˜ ì—†ëŠ” ë°©í–¥
                            nx += dx[k];
                            ny += dy[k];
                        }
                    }
                }
            }
        }
        return true; // ëª¨ë“  ì„ ìƒë‹˜ì´ í•™ìƒì„ ë°œê²¬í•˜ì§€ ëª»í•˜ë©´ ê°ì‹œ í”¼í•  ìˆ˜ ìˆìŒ
    }
```
<br>
<br>

### ğŸ’­ ìµœì¢… í’€ì´
0. ì „ì—­ë³€ìˆ˜ ì„ ì–¸í•˜ê¸°(N, arr, dx, dy, result)
1. N ì…ë ¥ë°›ê¸°
2. ë°°ì—´ ì…ë ¥ë°›ê¸°(String)
3. dfs ì‹¤í–‰í•˜ê¸°
4. ë§Œì•½ ì›í•˜ëŠ” ê²°ê³¼ë©´ -> YES, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ NO ì¶œë ¥
5. dfs ì—°ì‚° ë©”ì„œë“œ
    - ì¥ì• ë¬¼ 3ê°œ ì„¤ì¹˜
        - ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œë¡œ í™•ì¸(check)
    - Nì˜ ë²”ìœ„ ë‚´ì—ì„œ, ë¹ˆ ê³µê°„('X')ì¸ ê²½ìš° -> ì¥ì• ë¬¼ ì„¤ì¹˜('O')
        - ì¥ì• ë¬¼ ì„¤ì¹˜ë¥¼ ê³„ì† ì§„í–‰í•˜ë©° count+1
        - ë°±íŠ¸ë˜í‚¹ìœ¼ë¡œ ì¥ì• ë¬¼ ì œê±°í•˜ê¸°
6. ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œ
    - ì„ ìƒë‹˜('T') ìœ„ì¹˜ì—ì„œ
        - ìƒí•˜ì¢Œìš° í™•ì¸
        - ë²”ìœ„ ë‚´ì—ì„œ
            - í•™ìƒ('S') ë°œê²¬í•œ ê²½ìš° -> ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ì—†ìŒ ì¶œë ¥(true)
            - ì¥ì• ë¬¼('O')ì´ ìˆëŠ” ê²½ìš° -> false
    - ê°ì‹œë¥¼ ëª¨ë‘ í”¼í•¨(true ë¦¬í„´)


```java
package HayanLee.DFS_BFS.ê¸°ì¶œë¬¸ì œ.Q20_ê°ì‹œí”¼í•˜ê¸°;

import java.util.*;

public class ê°ì‹œí”¼í•˜ê¸°2 {

    static int N;
    static char[][] arr;
    static int[] dx = {-1, 1, 0, 0};
    static int[] dy = {0, 0, -1, 1};
    static boolean result;

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        // ì…ë ¥ë°›ê¸°
        N = sc.nextInt();
        sc.nextLine();

        arr = new char[N][N];
        for (int i = 0; i < N; i++) {
            String map = sc.nextLine();
            for (int j = 0; j < N; j++) {
                arr[i][j] = map.charAt(j);
            }
        }

        // dfs ê³„ì‚°
        result = dfs(0);

        // ê²°ê³¼ ì¶œë ¥
        if (result) {
            System.out.println("YES");
        } else {
            System.out.println("NO");
        }
    }

    // DFS ê³„ì‚°í•˜ëŠ” ë©”ì„œë“œ
    public static boolean dfs(int count) {
        if (count == 3) { // ì¥ì• ë¬¼ì„ 3ê°œ ì„¤ì¹˜í–ˆìœ¼ë©´ ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸
            return check();
        }

        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (arr[i][j] == 'X') { // ë¹ˆ ê³µê°„ì—ë§Œ ì¥ì• ë¬¼ì„ ì„¤ì¹˜í•  ìˆ˜ ìˆìŒ
                    arr[i][j] = 'O'; // ì¥ì• ë¬¼ ì„¤ì¹˜
                    if (dfs(count + 1)) return true; // ì¬ê·€ í˜¸ì¶œ
                    arr[i][j] = 'X'; // ì¥ì• ë¬¼ ì œê±° (ë°±íŠ¸ë˜í‚¹)
                }
            }
        }

        return false;
    }

    // ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œ
    public static boolean check() {
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (arr[i][j] == 'T') { // ê° ì„ ìƒë‹˜ ìœ„ì¹˜ì—ì„œ
                    for (int k = 0; k < 4; k++) { // 4ë°©í–¥ì„ í™•ì¸í•˜ì—¬
                        int nx = i + dx[k];
                        int ny = j + dy[k];
                        while (nx >= 0 && nx < N && ny >= 0 && ny < N) { // ë²”ìœ„ ë‚´ì—ì„œ ë°˜ë³µ
                            if (arr[nx][ny] == 'S') return true; // í•™ìƒì´ ë°œê²¬ë˜ë©´ ê°ì‹œ í”¼í•  ìˆ˜ ì—†ìŒ
                            if (arr[nx][ny] == 'O') return false; // ì¥ì• ë¬¼ì´ ìˆìœ¼ë©´ ë” ì´ìƒ ë³¼ ìˆ˜ ì—†ëŠ” ë°©í–¥
                            nx += dx[k];
                            ny += dy[k];
                        }
                    }
                }
            }
        }
        return true; // ëª¨ë“  ì„ ìƒë‹˜ì´ í•™ìƒì„ ë°œê²¬í•˜ì§€ ëª»í•˜ë©´ ê°ì‹œ í”¼í•  ìˆ˜ ìˆìŒ
    }
}

```
